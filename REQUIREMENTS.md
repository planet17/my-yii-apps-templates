# [VANPARTS](http://vanparts.com.ua/) - Inside this document you can find all next tasks
***

##BETA version 0.7.0.1 - Only PROMO-LANDING APPLICATION

##Текущая версия:
![Current Version](https://bytebucket.org/planet17/vanparts/raw/9bb4e2d943b9efe611ee851a127493a75f6610f8/projectDescription/init/rdm/img/current.svg?token=e178fa32db0b69cca9097a638331e4477883a31c) 
============================
###Версия включает:

Bug-fix:

~~~
1. Trying to get property of non-object: /home/apps/promoLanding/models/Visitor/Visitor.php at line 49
~~~

Возникал в случае если рекламная система не определенна. Необходимо было добавить в условие проверку на NULL



Пока не описано...


***

##Задачи для шага:
![Future Stable Version](https://bytebucket.org/planet17/vanparts/raw/c5d68f5895d75c8b415c7df5a4f540e79784b827/projectDescription/init/rdm/img/2.0.0.svg?token=8b920ce434c34c25cb7ce6f6c487a64f66a13741)
============================

Форма:
------------
    
2) Структура таблицы для записи "Заявок заказа звонка"
На странице необходимо сделать функционал кнопки дубликат для объедения Заказов.

Обе таблицы должны отображаться на странице заказов, но данные от таблицы hacks выводим в нижнем списке,
 - "специальный список" - и подсказка "Ошибка на странице или попытка взлома, перед звонком желательно
консультация с IT-специалистом";
 
Необходимо исправления полей таблицы с Заявками на NULL элементы ID_PROMO_PAGE не NULL

-------------------
    
    CREATE TABLE {{%callback_orders}}
    id            primary key
    phone         varchar
    name          varchar
    email         varchar
    comment       varchar
    
    CREATE TABLE {{%hack_callback_orders}}
    id            primary key
    differences   varchar like json    
    phone         varchar
    name          varchar
    email         varchar
    comment       varchar    
    

3) Модель для базы в callbackOrder



Admin-panel:
------------

1) Реализовать приложение с сложным адресом для отслеживания текущих заказов на главной странице.
Заявок должно быть не более 15 в количестве, для некоторой безопасности.


***

##Задачи для следующего шага:
![Future Tasks Version](https://bytebucket.org/planet17/vanparts/raw/9bb4e2d943b9efe611ee851a127493a75f6610f8/projectDescription/init/rdm/img/2.0.1.svg?token=ab4c42084a3cc6687b86b31333443a808d3fa47b)
============================

Настоящая автоматизация подгрузки данных:
------------

!)Исправления во View's и создание Model's


Безопасность формы Заявок заказов звонков:
------------

1) Работа и проверка Cookies


~~~
Проверка cHash (из cookies), добавить:проверка на скрипты, добавить:проверка на 64 символа
~~~


2) Работа модели формы


~~~
Добавить в каждой значение проверки наличия скриптов в теле.
~~~

~~~
Переписать некоторый код для обращения в чужие модели
Прим.: обращения к константам visit/user_info и другим переменным и функциям. 
~~~


3) Работа c моделью

~~~
Создание отдельной модели для временной таблицы
~~~

~~~
Создание отдельной таблицы для временной таблицы
~~~

~~~
Создание отдельной виджета для временной таблицы
~~~

~~~
Работа для управления заявками во временной таблице и перемещениях их в другие таблицы
~~~

~~~
Создание отдельной модели для хакеров
~~~

~~~
Создание отдельной таблицы для хакеров
~~~

~~~
Создание отдельного виджета для вывода хакеров
~~~




Admin-panel:
------------

1) Дизайн точки входа:

~~~
Разработка дизайна для страницы входа
~~~

~~~
Разработка дизайна для открытых разделов
~~~

~~~
Одна авторизация и переадресация на страницу с открытыми разделами.
В случае только одного раздела должен работать Redirect на открытый раздел.
Все остальные разделы дожны быть закрытыми для человека.
В случае если пользователь не авторизован, ему выдается PAGE 404 - Not found.
~~~

2) Уровни доступов к разделам:

Список разделов можно разделить на типы доступа:
-------------------
        
    Участники:
    Разработчика (Николай)
    4co-group (Дмитрий Петрович Штука, Николай Александрович Лыжов, Сергей Владимирович Окороков, Евгений Батькович Мерседес)
    Бухгалтера (Анна Батьковна Окорокова)
    Администратора сайта
    Директор филиала
    Заведующим отделом по машине
    Продавца в отделе
    Менеджер контента PromoPage
    Менеджер контента по товару
    Кладовщик

3) Разделы для проектирования:
0. Отделы
1. Персонал
2. Телефоны
3. Заявки общие
4. Заявки белые
5. IT-обзор заявок (select переключатель "белые/хак/все")
5. Заявки от хакеров
6. Управление Промо-страницей
7. Заказы
8. Денежные движения (Зарплаты (фильтры по филиалам)/сортировка/граффик по дням/месяцам)/Затраты филлиалов(Кофе/Аренда/Свет/Вода/Газ)/Торговые лица (Поставщики/СТО/)/Клиенты/Затраты корпорации(Бензин/Корпоративный автомобиль))
9. Филиалы
10. Складской учет
11. Марки автомобилей/Производители товаров
12. Категорий серии (Выбор при старте магазина 2 или 3 ступенчатой системы деления производителей с отображением
примеров, один из прим.: {Mercedes-benz }-> VANS -> Sprinter -> {  } )
13. Автомобили модели
14. Категории товаров
15. Товары
16. Серийные номера товара
17. Связи Категорий/товаров/серийный номеров
18. Связи Марок/Категорий серий/Модели
19. Связи Категорий/товаров/серийный номеров/Марок/Категорий серий/Модели
20. Выплачено
21. Долговые обязательства
22. Наличие товара в магазине по складу (складу филиала/склады закрепленные/склады других филлиалов/склады региона и т.д.)
23. Закрепление склада за магазином (состояния: закрепленый/внутри), настройка уровней отображений склада и доступности.
24. Словарь
25. API.Yandex. Подтягиваем предыдущие данные. Общее количество кликов/показов, затраты, денег на счету. Настройка входа (на уровне администратора и 4ко).
26. API.Google. Подтягиваем предыдущие данные. Общее количество кликов/показов, затраты, денег на счету. Настройка входа (на уровне администратора и 4ко).


Шаблон страницы:
------------

~~~
Проверка параметров description и keywords во \VIEW
Обнаружения пути передачи их в шаблона
~~~

~~~
Перенос в виджет работы формы
~~~

~~~
Перенос в виджет определения телефонов
~~~


Виджет форма:
------------

1) Не должен зависить или попадать в контент страницы.
Не должен определяться в контроллере и передаваться параметром, найти другой метод.
2) Должны быть несколько функций
~~~
Функция создания кнопки (c параметрами для отображения кнопки в первом и втором стиле)
~~~

~~~
Функция создания формы
~~~


Виджет телефоны:
------------

1) Не должен зависить или попадать в контент страницы
Не должен определяться в контроллере и передаваться параметром, найти другой метод


Необходим виджет для подключения метрики:
------------

~~~
Метрика должна выводиться при помощи виджета
~~~

~~~
Должен подключаться кастомный скрипт который активирует функции метрики фиксирующие события из метрика на определенных событиях зафиксированных на сайте.
Метрика должна быть вынесена в определенную часть, и не быть подвязана под остальные части сайта.
~~~


Структура определения контента страницы:
------------
Автоматизировать до конца всё.
Пример
`vp_promo_parts_categories`
Проверить зачем нужна таблица `vp_advertising_systems_counter`

Нарисовать структуру таблиц, и сделать буквенное описание к таблицам!
Подумать и порисовать над более логичной и последовательной моделью работы с информацией клиентом/посещением и определением страницы.

***
   
Bug-list:
~~~
Call to a member function getAdvertisingSystemById() on null
/home/apps/promoLanding/models/Visitor/Info/UserInfo.php at line 62
~~~

Статус не критично. Возникает в том случае когда cookies уже существуют.
А визит и пользователь еще не созданы.
В нормальной ситуации такое невозможно.

***

##Далее будет...

#Идеи доработок дизайна/интерфейса:

~~~
Дизайн с номерами. Дергнуть Суслова.
Всплывающая окошечка для номеров.
~~~

~~~
Необходим дизайн Favicon
~~~

~~~
Необходим дизайн для входа в админ-панель
~~~

~~~
Необходим дизайн для выбора разделов в админ-панели (Отчеты/Контент/Настройки сайта/Заявки/Заказы)
Переход по категориям, надпись становиться прозрачной.
Контейнер с выбраной получает значение position:absolute, и анимировано движется наверх.
Там и остаётся.
Остальные утопают в прозрачности (opacity уходит в нуль).
Потом в середине списка появляется линия разграничивающая всё.
Затем раздвигается, показывая нижний слой.
Z-index, можно выставить по уровням вложенности.
~~~

~~~
Всплывающее окно. Перемотка и подсветка номеров при нажатиях кнопки (только для длинных страниц)
~~~

~~~
Перемотка и подсветка номеров при нажатиях кнопки (только для длинных страниц)
~~~

~~~
Сделать footer с номерами движущимся по все странице, при промотке доконца останавливать его предпоследним как он есть
сейчас перед названием с адресом. В этом случае. Возможно на футер еще добавить кнопку заказа.
~~~

~~~
Дизайн формы переделать под несколько шагов.
Сначала выбор способа связи:
Как вы хотите чтобы мы с вами связались?
1а - Через Email
1б - По телефону
1в - Найти номер и позвонить адресовать человека на страницу с SELECT отдела
На странице уровни выборов
Консультанты/Продавцы
MPP_PL17
Другие вопросы (Сотрудничество/Работа сайта/Реклама и т.п)


2а - Указать Email
2б - Указать Номер (два поля +38{код 3 цифры}{7 цифр})

3a - Два input
    *Ваши имя?
    *Что вас интересует? *REQUIRED
    SEND
    
3б - Ваше имя? *REQUIRED
Кнопки
Что вас интересует?
3ба    Уточнить сейчас
3бб    Уточню при звонке

4бб - Коментарий
    *Что вас интересует?
    ОТПРАВИТЬ ЗАЯВКУ
    
    ОСТАВИТЬ ПУСТЫМ И ОТПРАВИТЬ
    
Форма так же должна быть однаразовой, в случае успешного оформления заявки можно очищать слои с формой и заполнять
текстом аля спасибо за участие, можно сделать типс в котором будет высвечиваться при наведении если тебе нужна
еще одна заявка отправьте её с другой страницы.
Так же в форме просто необходимы присутсвовать кнопки возвратов к предыдущему шагу. 
~~~

~~~
Дизайн для страницы ошибки
404
500
~~~


#СЕО продвижение:


~~~
Страница контактов:
~~~

1. vanparts.com.ua
2. vanparts
3. контакты
4. Магазин Одесса

~~~
Главная
~~~

1. Заказ автомобильных запчастей
2. Купить запчасти для...
3. Автомобили
4. Можно покупку/заказ на передок
5. Онлайн-магазин автозапчастей
6. Купить 


~~~
О нас...
~~~

1. Доставка
2. vanparts.com.ua
3. vanparts
4. Продажа автозапчастей
5. Магазин

Можно написать о наших реальных клиентах.

~~~
Магазин/фильтр/авто
~~~

1. Купить запчасти для... Уточнение машины на небольшой текст со страницей автомобиля


# Кадры:
Доработка из кода или нет, из базы.
1. Таблица источники.
2. Таблица стороны (здесь мы держим всех кто в этом может быть замешан).
3. Модуль службы (модуль агенств которые потребляют деньги).
4. Таблица транзакция. (проводка совершенная?)
5. Таблица приход/расход. (проводки?)
6. Таблица кредитов/долгов. (Проводка планируемая?)

src
{{%owners}}
{{%clients}}
{{%поставщикs}}
{{%службаs}}



# Необходимо добавить лиц. соглашение о хранение информации.
Выдержка из Google, для приложений google

4.3. Вы соглашаетесь, что при использовании Галереи для распространения Продуктов Вы обеспечите защиту конфиденциальности и законных прав пользователей. Если пользователи предоставляют Вам свои имена, пароли и другую личную или регистрационную информацию или если Ваш Продукт имеет доступ к этим данным или использует их, Вы должны уведомить пользователей о том, что эта информация будет доступна для Вашего Продукта. Кроме того, Вы должны предоставить надлежащее примечание о конфиденциальности и обеспечить защиту пользователей. Ваш Продукт может использовать подобную информацию только в ограниченных целях, для которых пользователи предоставили Вам эту информацию. Если Ваш Продукт хранит личную или другую конфиденциальную информацию, предоставленную пользователями, эта информация должна быть защищена и храниться не дольше, чем это требуется. Однако если пользователь заключает с Вами отдельное соглашение, которое позволяет Вам или Вашему Продукту хранить и использовать личную или другую конфиденциальную информацию, непосредственно связанную с Вашим Продуктом (не включая другие продукты и приложения), использование этой информации регулируется условиями этого отдельного соглашения. Если пользователь предоставляет Вашему Продукту информацию, касающуюся его аккаунта Google, Ваш Продукт может использовать эту информацию только для доступа к аккаунту Google пользователя и только в тех целях, для которых пользователь разрешил Вам ее использовать.


# Анализ входных данных из перехода на страницу

~~~
Тут содержиться запрос
~~~

http://yabs.yandex.ua/count/GQzHfYuUl2e40000ZhprdMi5NmUL0Pi2RaEt0II8l1Y9S0I9lYbp20EOZ1oUf5NU0Psf93SJfaQAkX2KIGAziC8AZWAgBgMkc0G5lAwpAmMD0P6om9dv29VmEC4Jjkrqn0wFjZ6IlW-Vks8J5W-JXJoP1KACaJuCjf2P3BMOVmgWcxGghv4-3BEGdoIqc7yAsPkqAjgGdoIKdCO4fvAgDQYawc45fC00003i1AxioC2uU6j1Px41ig0G00AvgIGt4xlpNO5U0h1mj0J1__________yFmliqqrJvlm9g2iMC3ym5ql__________3zF__________mzy7G00?q=%D0%BA%D0%B0%D0%BA+%D0%BF%D0%BE%D0%BC%D0%B5%D0%BD%D1%8F%D1%82%D1%8C+%D1%81%D0%B5%D0%BA%D1%80%D0%B5%D1%82+%D0%B2+%D0%B7%D0%B0%D0%BC%D0%BA%D0%B5+%D0%B7%D0%B0%D0%B6%D0%B8%D0%B3%D0%B0%D0%BD%D0%B8%D1%8F+%D0%BC%D0%B5%D1%80%D1%81%D0%B5%D0%B4%D0%B5%D1%81+%D0%B2%D0%B8%D1%82%D0%BE+638

~~~
UTM-метки которыми можно обозначить что именно сработало из объявления
~~~



~~~
Добавить раздел на промо с производителями
Разворачивается при клике на картинку-слайдер на промо-странице
Под слайдером по всей ширине (внутри обвертка 80%), идет список производителей которые у нас есть.
~~~

~~~
Исправить 404 ошибку. К примеру страница http://vanparts.com.ua/promo/sex. Должен выводиться какой-то шаблон.
А не такое.
~~~

~~~
Главных телефонов может быть несколько.
Но если его нет. Выбирается какой-то основной главный телефон.
Если его нет.
То выбирается телефон с этой страницы.
~~~

~~~
Разыгрывать принцип дефицита, показывать товара меньше чем есть.
Когда товара 0, появляется сообщение о том, что товар следующий будет
в такое время. JS отсчёт таймер перед поступлением товара на склад.

Оформление предзаказа на товар на предзаказ оставляется задаток.
Запил функционала платный предзаказ внеочереди.
~~~